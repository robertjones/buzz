<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <title>Buzz - Random Timer</title>
  <meta name="author" content="Rob Jones">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="skeleton.css">

</head>
<body>

  <audio id="audio">
    <source src="buzzer.aac" type="audio/aac" />
    <source src="buzzer.mp3" type="audio/mp3" />
    <source src="buzzer.ogg" type="audio/ogg" />
  </audio>

  <div class="container">

    <h1 style="padding-top: 20pt">Buzz <span style="color: grey"><br>Random Timer</span></h1>
    <p id="p1" style="font-size: 3rem">Ready to go.</p>
    <button id="button" class="button-primary u-full-width" style="font-size: 3rem; height: 100px">Start</button>
    <p style="color: grey; padding-top: 30pt">Buzzes randomly within 20 seconds.</p>
    <p style="color: grey"><small>Made by <a href="https://twitter.com/robjones">@robjones</a>.</small>

  </div>

  <script type="text/javascript">
    var button = document.getElementById('button');
    var audio = document.getElementById('audio');
    var p1 = document.getElementById('p1');

    function getRandomArbitrary(min, max) {
      var num = Math.random() * (max - min) + min;
      return num; 
    };
    function play() {
      audio.play();
      p1.innerHTML = "Time's up!";
      button.className = "button-primary u-full-width";
    };
    var onClick = function() {
      audio.play();
      p1.innerHTML = "Running...";
      button.className = "u-full-width";
      setTimeout(play, getRandomArbitrary(1000, 20000));
    };
    button.addEventListener('click', onClick, false);
  </script>

</body>
</html>
